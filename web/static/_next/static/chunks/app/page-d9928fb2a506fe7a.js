(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1318:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>ed});var l=s(5155),r=s(2115),a=s(1851),n=s(9834),i=s(3381),o=s(8770),c=s(9007),d=s(2614),u=s(8527);let h={credentials:"include"};async function m(){let e=await fetch("/api/v1/config",h);if(!e.ok)throw Error("config: ".concat(e.status));return e.json()}async function x(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,s=await fetch("/api/v1/endpoints/statuses?page=".concat(e,"&pageSize=").concat(t),h);if(!s.ok)throw Error("endpoints: ".concat(s.status));return s.json()}async function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,l=await fetch("/api/v1/endpoints/".concat(e,"/statuses?page=").concat(t,"&pageSize=").concat(s),h);if(!l.ok)throw Error("endpoint ".concat(e,": ").concat(l.status));return l.json()}async function v(e,t){let s=await fetch("/api/v1/endpoints/".concat(e,"/response-times/").concat(t,"/history"),h);if(!s.ok)throw Error("history ".concat(e,": ").concat(s.status));return s.json()}async function f(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,s=await fetch("/api/v1/suites/statuses?page=".concat(e,"&pageSize=").concat(t),h);if(!s.ok)throw Error("suites: ".concat(s.status));return s.json()}async function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,l=await fetch("/api/v1/suites/".concat(e,"/statuses?page=").concat(t,"&pageSize=").concat(s),h);if(!l.ok)throw Error("suite ".concat(e,": ").concat(l.status));return l.json()}var b=s(6615),j=s(2241);function N(){var e;return null!=(e=window.config)?e:{logo:"",header:"Status",dashboardHeading:"",dashboardSubheading:"",link:"",buttons:[],maximumNumberOfResults:"20",defaultSortBy:"name",defaultFilterBy:"none"}}function w(){let e=N();return!e.link||e.link.includes("{{")?null:e.link}function y(){let[e,t]=(0,r.useState)(""),[s,a]=(0,r.useState)(null),[n,i]=(0,r.useState)([]),[o,c]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{var e;t(function(){let e=N();return!e.logo||e.logo.includes("{{")?"":e.logo}()),a(w()),i(null!=(e=N().buttons)?e:[])},[]),(0,l.jsx)("header",{className:"border-b border-[hsl(var(--border))] bg-[hsl(var(--card)/.5)] backdrop-blur supports-[backdrop-filter]:bg-[hsl(var(--card)/.6)]",children:(0,l.jsxs)("div",{className:"container mx-auto max-w-7xl px-4 py-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("div",{className:"flex items-center gap-4",children:(0,l.jsxs)(s?"a":"div",{...s?{href:s,target:"_blank",rel:"noopener noreferrer"}:{},className:"flex items-center gap-3 ".concat(s?"transition-opacity hover:opacity-80":""),children:[(0,l.jsx)("div",{className:"flex items-center justify-center",children:e?(0,l.jsx)("img",{src:e,alt:"",className:"h-8 max-w-[160px] object-contain dark:invert"}):(0,l.jsx)(k,{})}),(0,l.jsx)("h1",{className:"text-lg font-semibold tracking-tight",children:"Status"})]})}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[n.length>0&&(0,l.jsx)("nav",{className:"hidden items-center gap-1 md:flex",children:n.map(e=>(0,l.jsx)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"rounded-md px-3 py-2 text-sm font-medium transition-colors hover:bg-[hsl(var(--accent))] hover:text-[hsl(var(--accent-foreground))]",children:e.name},e.name))}),n.length>0&&(0,l.jsx)("button",{className:"inline-flex h-8 w-8 items-center justify-center rounded-md md:hidden hover:bg-[hsl(var(--accent))]",onClick:()=>c(!o),children:o?(0,l.jsx)(b.A,{className:"h-5 w-5"}):(0,l.jsx)(j.A,{className:"h-5 w-5"})})]})]}),n.length>0&&o&&(0,l.jsx)("nav",{className:"mt-4 space-y-1 border-t border-[hsl(var(--border))] pt-4 md:hidden",children:n.map(e=>(0,l.jsx)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"block rounded-md px-3 py-2 text-sm font-medium transition-colors hover:bg-[hsl(var(--accent))] hover:text-[hsl(var(--accent-foreground))]",onClick:()=>c(!1),children:e.name},e.name))})]})})}function k(){return(0,l.jsxs)("svg",{viewBox:"0 0 67 67",className:"h-8 w-8 dark:invert",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("path",{d:"M22.21 67V44.6369H0V67H22.21Z",fill:"#000"}),(0,l.jsx)("path",{d:"M0 44.6369L22.21 46.8285V44.6369H0Z",fill:"#999"}),(0,l.jsx)("path",{d:"M66.7038 22.3184H22.2534L0.0878906 44.6367H44.4634L66.7038 22.3184Z",fill:"#000"}),(0,l.jsx)("path",{d:"M22.21 0H0V22.3184H22.21V0Z",fill:"#000"}),(0,l.jsx)("path",{d:"M66.7198 0H44.5098V22.3184H66.7198V0Z",fill:"#000"}),(0,l.jsx)("path",{d:"M66.6753 22.3185L44.5098 20.0822V22.3185H66.6753Z",fill:"#999"}),(0,l.jsx)("path",{d:"M66.7198 67V44.6369H44.5098V67H66.7198Z",fill:"#000"})]})}function S(){let[e,t]=(0,r.useState)(null),[s,a]=(0,r.useState)("");return(0,r.useEffect)(()=>{let e=w();t(e),a(function(e){if(!e)return"";try{return new URL(e).hostname.replace("www.","")}catch(e){return""}}(e))},[]),(0,l.jsx)("footer",{className:"mt-auto border-t border-[hsl(var(--border))]",children:(0,l.jsx)("div",{className:"container mx-auto max-w-7xl px-4 py-3 text-center text-xs text-[hsl(var(--muted-foreground))]",children:e?(0,l.jsx)("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"transition-colors hover:text-[hsl(var(--foreground))]",children:s}):null})})}var C=s(2821),M=s(5889);function E(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,M.QP)((0,C.$)(t))}function A(e){let t=Date.now()-new Date(e).getTime();if(t<500)return"now";if(t>2592e5){let e=Math.round(t/864e5);return"".concat(e," day").concat(1!==e?"s":""," ago")}if(t>36e5){let e=Math.round(t/36e5);return"".concat(e," hour").concat(1!==e?"s":""," ago")}if(t>6e4){let e=Math.round(t/6e4);return"".concat(e," minute").concat(1!==e?"s":""," ago")}let s=Math.round(t/1e3);return"".concat(s," second").concat(1!==s?"s":""," ago")}function L(e){let t=new Date(e),s=e=>String(e).padStart(2,"0");return"".concat(t.getFullYear(),"-").concat(s(t.getMonth()+1),"-").concat(s(t.getDate())," ").concat(s(t.getHours()),":").concat(s(t.getMinutes()),":").concat(s(t.getSeconds()))}let R={xs:"h-4 w-4 border",sm:"h-6 w-6 border-2",md:"h-8 w-8 border-2",lg:"h-12 w-12 border-2"};function T(e){let{size:t="md"}=e;return(0,l.jsx)("div",{className:E("animate-spin rounded-full border-foreground/20 border-t-foreground",R[t])})}let H={healthy:{bg:"bg-green-500/10 text-green-700 dark:text-green-400 border-green-500/20",dot:"bg-green-500",label:"Healthy"},unhealthy:{bg:"bg-red-500/10 text-red-700 dark:text-red-400 border-red-500/20",dot:"bg-red-500",label:"Unhealthy"},degraded:{bg:"bg-yellow-500/10 text-yellow-700 dark:text-yellow-400 border-yellow-500/20",dot:"bg-yellow-500",label:"Degraded"},unknown:{bg:"bg-gray-500/10 text-gray-600 dark:text-gray-400 border-gray-500/20",dot:"bg-gray-400",label:"Unknown"}};function D(e){var t;let{status:s}=e,r=null!=(t=H[s])?t:H.unknown;return(0,l.jsxs)("span",{className:E("inline-flex items-center gap-1.5 rounded-full border px-2.5 py-0.5 text-xs font-medium",r.bg),children:[(0,l.jsx)("span",{className:E("h-2 w-2 rounded-full",r.dot)}),r.label]})}function I(e){let{results:t,maxResults:s=50,onTooltip:a}=e,[n,i]=(0,r.useState)(null),o=(0,r.useRef)([]),c=(0,r.useMemo)(()=>{let e=[...t];for(;e.length<s;)e.unshift(null);return e.slice(-s)},[t,s]),d=t.length>0?A(t[Math.max(0,t.length-s)].timestamp):"",u=t.length>0?A(t[t.length-1].timestamp):"",h=(0,r.useCallback)((e,t)=>{e&&a&&a(e,o.current[t],"hover")},[a]),m=(0,r.useCallback)(()=>{a&&a(null,null,"hover")},[a]),x=(0,r.useCallback)((e,t)=>{e&&a&&(window.dispatchEvent(new CustomEvent("clear-data-point-selection")),n===t?(i(null),a(null,null,"click")):(i(t),a(e,o.current[t],"click")))},[a,n]);return(0,r.useRef)(null).current=()=>i(null),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"flex gap-0.5","data-health-bar":!0,children:c.map((e,t)=>(0,l.jsx)("div",{ref:e=>{o.current[t]=e},className:"flex-1 h-6 sm:h-8 rounded-sm transition-all ".concat(e?e.success?n===t?"bg-green-700 cursor-pointer":"bg-green-500 hover:bg-green-700 cursor-pointer":n===t?"bg-red-700 cursor-pointer":"bg-red-500 hover:bg-red-700 cursor-pointer":"bg-gray-200 dark:bg-gray-700"),onMouseEnter:()=>h(e,t),onMouseLeave:m,onClick:s=>{s.stopPropagation(),x(e,t)}},t))}),(0,l.jsxs)("div",{className:"mt-1 flex items-center justify-between text-xs text-[hsl(var(--muted-foreground))]",children:[(0,l.jsx)("span",{children:d}),(0,l.jsx)("span",{children:u})]})]})}function P(e){var t,s;let{endpoint:a,maxResults:n=50,showAverageResponseTime:i=!0,onNavigate:o,onTooltip:c}=e,d=null!=(t=a.results)?t:[],u=d.length>0?d[d.length-1]:null,h=u?u.success?"healthy":"unhealthy":"unknown",m=null!=(s=null==u?void 0:u.hostname)?s:null,x=(0,r.useMemo)(()=>{if(0===d.length)return"N/A";let e=0,t=0,s=1/0,l=0;for(let r of d)if(r.duration){let a=r.duration/1e6;e+=a,t++,s=Math.min(s,a),l=Math.max(l,a)}if(0===t)return"N/A";if(i)return"~".concat(Math.round(e/t),"ms");let r=Math.trunc(s),a=Math.trunc(l);return r===a?"".concat(r,"ms"):"".concat(r,"-").concat(a,"ms")},[d,i]);return(0,l.jsxs)("div",{className:"flex h-full flex-col rounded-lg border border-[hsl(var(--border))] bg-[hsl(var(--card))] transition hover:scale-[1.01] hover:shadow-lg dark:hover:border-gray-700",children:[(0,l.jsx)("div",{className:"space-y-0 px-3 pb-2 pt-3 sm:px-6 sm:pt-6",children:(0,l.jsxs)("div",{className:"flex items-start justify-between gap-2 sm:gap-3",children:[(0,l.jsxs)("div",{className:"min-w-0 flex-1 overflow-hidden",children:[(0,l.jsx)("button",{onClick:()=>o(a.key),className:"block truncate text-left text-sm font-semibold hover:text-[hsl(var(--primary))] hover:underline sm:text-base",title:a.name,children:a.name}),(0,l.jsxs)("div",{className:"flex min-h-[1.25rem] items-center gap-2 text-xs text-[hsl(var(--muted-foreground))] sm:text-sm",children:[a.group&&(0,l.jsx)("span",{className:"truncate",title:a.group,children:a.group}),a.group&&m&&(0,l.jsx)("span",{children:"•"}),m&&(0,l.jsx)("span",{className:"truncate",title:m,children:m})]})]}),(0,l.jsx)("div",{className:"ml-2 flex-shrink-0",children:(0,l.jsx)(D,{status:h})})]})}),(0,l.jsx)("div",{className:"flex-1 px-3 pb-3 pt-2 sm:px-6 sm:pb-4",children:(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"mb-1 flex items-center justify-between",children:[(0,l.jsx)("div",{className:"flex-1"}),(0,l.jsx)("p",{className:"text-xs text-[hsl(var(--muted-foreground))]",title:i?"Average response time":"Min-max response time",children:x})]}),(0,l.jsx)(I,{results:d,maxResults:n,onTooltip:c})]})})]})}function V(e){var t;let{suite:s,maxResults:a=50,onNavigate:n,onTooltip:i}=e,o=null!=(t=s.results)?t:[],c=o.length>0?o[o.length-1]:null,d=c?c.success?"healthy":"unhealthy":"unknown",u=(0,r.useMemo)(()=>o.map(e=>({status:0,hostname:"",duration:e.duration,success:e.success,timestamp:e.timestamp})),[o]);return(0,l.jsxs)("div",{className:"flex h-full flex-col rounded-lg border border-[hsl(var(--border))] bg-[hsl(var(--card))] transition hover:scale-[1.01] hover:shadow-lg dark:hover:border-gray-700",children:[(0,l.jsx)("div",{className:"space-y-0 px-3 pb-2 pt-3 sm:px-6 sm:pt-6",children:(0,l.jsxs)("div",{className:"flex items-start justify-between gap-2 sm:gap-3",children:[(0,l.jsxs)("div",{className:"min-w-0 flex-1 overflow-hidden",children:[(0,l.jsx)("button",{onClick:()=>n(s.key),className:"block truncate text-left text-sm font-semibold hover:text-[hsl(var(--primary))] hover:underline sm:text-base",title:s.name,children:s.name}),s.group&&(0,l.jsx)("div",{className:"flex min-h-[1.25rem] items-center text-xs text-[hsl(var(--muted-foreground))] sm:text-sm",children:(0,l.jsx)("span",{className:"truncate",title:s.group,children:s.group})})]}),(0,l.jsx)("div",{className:"ml-2 flex-shrink-0",children:(0,l.jsx)(D,{status:d})})]})}),(0,l.jsx)("div",{className:"flex-1 px-3 pb-3 pt-2 sm:px-6 sm:pb-4",children:(0,l.jsx)(I,{results:u,maxResults:a,onTooltip:i})})]})}var Z=s(109);let z=[{label:"None",value:"none"},{label:"Failing",value:"failing"},{label:"Unstable",value:"unstable"}],B=[{label:"Name",value:"name"},{label:"Group",value:"group"},{label:"Health",value:"health"}];function F(e){let{onSearch:t,onFilterChange:s,onSortChange:a}=e,[n,i]=(0,r.useState)(""),[o,c]=(0,r.useState)("none"),[d,u]=(0,r.useState)("name");(0,r.useEffect)(()=>{let e=N(),t=localStorage.getItem("gatus:filter-by")||e.defaultFilterBy||"none",l=localStorage.getItem("gatus:sort-by")||e.defaultSortBy||"name";c(t),u(l),s(t),a(l)},[]);let h=(0,r.useCallback)(e=>{c(e),localStorage.setItem("gatus:filter-by",e),s(e)},[s]),m=(0,r.useCallback)(e=>{u(e),localStorage.setItem("gatus:sort-by",e),a(e)},[a]);return(0,l.jsxs)("div",{className:"flex flex-col gap-3 rounded-lg border border-[hsl(var(--border))] bg-[hsl(var(--card))] p-3 sm:p-4 lg:flex-row lg:gap-4",children:[(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(Z.A,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-[hsl(var(--muted-foreground))]"}),(0,l.jsx)("input",{type:"text",placeholder:"Search endpoints...",value:n,onChange:e=>{i(e.target.value),t(e.target.value)},className:"w-full rounded-md border border-[hsl(var(--border))] bg-[hsl(var(--background))] py-2 pl-10 pr-3 text-sm placeholder:text-[hsl(var(--muted-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--ring))]"})]})}),(0,l.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:gap-4",children:[(0,l.jsxs)("div",{className:"flex flex-1 items-center gap-2 sm:flex-initial",children:[(0,l.jsx)("label",{className:"whitespace-nowrap text-xs font-medium text-[hsl(var(--muted-foreground))] sm:text-sm",children:"Filter by:"}),(0,l.jsx)("select",{value:o,onChange:e=>h(e.target.value),className:"flex-1 rounded-md border border-[hsl(var(--border))] bg-[hsl(var(--background))] px-3 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-[hsl(var(--ring))] sm:w-[140px]",children:z.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,l.jsxs)("div",{className:"flex flex-1 items-center gap-2 sm:flex-initial",children:[(0,l.jsx)("label",{className:"whitespace-nowrap text-xs font-medium text-[hsl(var(--muted-foreground))] sm:text-sm",children:"Sort by:"}),(0,l.jsx)("select",{value:d,onChange:e=>m(e.target.value),className:"flex-1 rounded-md border border-[hsl(var(--border))] bg-[hsl(var(--background))] px-3 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-[hsl(var(--ring))] sm:w-[100px]",children:B.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))})]})]})]})}var U=s(5989),_=s(2784),Y=s(5379);let O=[{value:10,label:"10s"},{value:30,label:"30s"},{value:60,label:"1m"},{value:120,label:"2m"},{value:300,label:"5m"},{value:600,label:"10m"}];function G(e){let{onRefresh:t}=e,{resolvedTheme:s,setTheme:a}=(0,Y.D)(),[n,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),[u,h]=(0,r.useState)(300),m=(0,r.useRef)(null),x=(0,r.useRef)(null);(0,r.useEffect)(()=>o(!0),[]),(0,r.useEffect)(()=>{let e=localStorage.getItem("gatus:refresh-interval");if(e){let t=parseInt(e);t>=10&&O.some(e=>e.value===t)&&h(t)}},[]),(0,r.useEffect)(()=>(m.current&&clearInterval(m.current),m.current=setInterval(t,1e3*u),()=>{m.current&&clearInterval(m.current)}),[u,t]),(0,r.useEffect)(()=>{let e=e=>{x.current&&!x.current.contains(e.target)&&d(!1)};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]);let g=(0,r.useCallback)(e=>{h(e),localStorage.setItem("gatus:refresh-interval",String(e)),d(!1),t()},[t]),v="dark"===s;return(0,l.jsx)("div",{ref:x,className:"fixed bottom-4 left-4 z-50",children:(0,l.jsxs)("div",{className:"flex items-center gap-1 rounded-full border border-[hsl(var(--border))] bg-[hsl(var(--background)/.95)] p-1 shadow-md backdrop-blur-sm",children:[(0,l.jsxs)("button",{onClick:()=>d(!c),className:"relative flex items-center gap-1.5 rounded-full px-3 py-1.5 transition-colors hover:bg-[hsl(var(--accent))]",children:[(0,l.jsx)(i.A,{className:"h-3.5 w-3.5 text-[hsl(var(--muted-foreground))]"}),(0,l.jsx)("span",{className:"text-xs font-medium",children:(e=>{let t=O.find(t=>t.value===e);return t?t.label:"".concat(e,"s")})(u)}),c&&(0,l.jsx)("div",{className:"absolute bottom-full left-0 mb-2 overflow-hidden rounded-lg border border-[hsl(var(--border))] bg-[hsl(var(--popover))] shadow-lg",onClick:e=>e.stopPropagation(),children:O.map(e=>(0,l.jsx)("button",{onClick:()=>g(e.value),className:"block w-full px-4 py-2 text-left text-xs transition-colors hover:bg-[hsl(var(--accent))] ".concat(u===e.value?"bg-[hsl(var(--accent))]":""),children:e.label},e.value))})]}),(0,l.jsx)("div",{className:"h-5 w-px bg-[hsl(var(--border)/.5)]"}),n&&(0,l.jsx)("button",{onClick:()=>{let e="dark"===s?"light":"dark";a(e),document.cookie="theme=".concat(e,"; path=/; max-age=31536000; samesite=strict")},"aria-label":v?"Switch to light mode":"Switch to dark mode",className:"rounded-full p-1.5 transition-colors hover:bg-[hsl(var(--accent))]",children:v?(0,l.jsx)(U.A,{className:"h-3.5 w-3.5"}):(0,l.jsx)(_.A,{className:"h-3.5 w-3.5"})})]})})}function W(e){let{result:t,anchor:s,persistent:a,onDismiss:n}=e,i=(0,r.useRef)(null),[o,c]=(0,r.useState)({top:0,left:0}),[d,u]=(0,r.useState)(!1),h=(0,r.useCallback)(()=>{if(!s||!i.current)return;let e=s.getBoundingClientRect(),t=i.current.getBoundingClientRect(),l=window.scrollY,r=window.scrollX,a=e.bottom+l+8,n=e.left+r;window.innerHeight-e.bottom<t.height+20&&e.top>t.height+20&&(a=e.top+l-t.height-8),window.innerWidth-e.left<t.width+20&&(n=e.right+r-t.width)<r+10&&(n=r+10),c({top:Math.round(a),left:Math.round(n)})},[s]);return((0,r.useEffect)(()=>{t&&s?(u(!0),requestAnimationFrame(h)):a||u(!1)},[t,s,a,h]),(0,r.useEffect)(()=>{if(d)return window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[d,h]),(0,r.useEffect)(()=>{if(!a)return;let e=e=>{i.current&&!i.current.contains(e.target)&&(e.target.closest("[data-health-bar]")||n())};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[a,n]),d&&t)?(0,l.jsx)("div",{ref:i,className:"absolute z-50 rounded-md border border-[hsl(var(--border))] bg-[hsl(var(--popover))] px-3 py-2 text-sm shadow-lg text-[hsl(var(--popover-foreground))]",style:{top:o.top,left:o.left},children:(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-xs font-semibold uppercase tracking-wider text-[hsl(var(--muted-foreground))]",children:"Timestamp"}),(0,l.jsx)("div",{className:"font-mono text-xs",children:L(t.timestamp)})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-xs font-semibold uppercase tracking-wider text-[hsl(var(--muted-foreground))]",children:"Response Time"}),(0,l.jsxs)("div",{className:"font-mono text-xs",children:[Math.trunc(t.duration/1e6),"ms"]})]}),t.conditionResults&&t.conditionResults.length>0&&(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-xs font-semibold uppercase tracking-wider text-[hsl(var(--muted-foreground))]",children:"Conditions"}),(0,l.jsx)("div",{className:"space-y-0.5 font-mono text-xs",children:t.conditionResults.map((e,t)=>(0,l.jsxs)("div",{className:"flex items-start gap-1",children:[(0,l.jsx)("span",{className:e.success?"text-green-500":"text-red-500",children:e.success?"✓":"✗"}),(0,l.jsx)("span",{className:"break-all",children:e.condition})]},t))})]}),t.errors&&t.errors.length>0&&(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-xs font-semibold uppercase tracking-wider text-[hsl(var(--muted-foreground))]",children:"Errors"}),(0,l.jsx)("div",{className:"space-y-0.5 font-mono text-xs",children:t.errors.map((e,t)=>(0,l.jsxs)("div",{className:"text-red-500",children:["•"," ",e]},t))})]})]})}):null}var K=s(6065),$=s(406);let J={info:{icon:K.A,className:"border-blue-500/20 bg-blue-500/10 text-blue-700 dark:text-blue-400"},warning:{icon:$.A,className:"border-yellow-500/20 bg-yellow-500/10 text-yellow-700 dark:text-yellow-400"},critical:{icon:o.A,className:"border-red-500/20 bg-red-500/10 text-red-700 dark:text-red-400"}};function X(e){let{announcements:t}=e;return t&&0!==t.length?(0,l.jsx)("div",{className:"mb-4 space-y-3",children:t.map((e,t)=>{var s;let r=null!=(s=J[e.severity])?s:J.info,a=r.icon;return(0,l.jsxs)("div",{className:"flex items-start gap-3 rounded-lg border p-4 ".concat(r.className),children:[(0,l.jsx)(a,{className:"mt-0.5 h-5 w-5 flex-shrink-0"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium",children:e.title}),e.description&&(0,l.jsx)("p",{className:"mt-1 text-sm opacity-80",children:e.description})]})]},t)})}):null}function q(e){let{announcements:t}=e;return t&&0!==t.length?(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"mb-4 text-lg font-semibold text-[hsl(var(--foreground))]",children:"Past Announcements"}),(0,l.jsx)("div",{className:"space-y-3",children:t.map((e,t)=>(0,l.jsxs)("div",{className:"rounded-lg border border-[hsl(var(--border))] bg-[hsl(var(--card))] p-4 opacity-60",children:[(0,l.jsx)("p",{className:"font-medium",children:e.title}),e.description&&(0,l.jsx)("p",{className:"mt-1 text-sm text-[hsl(var(--muted-foreground))]",children:e.description})]},t))})]}):null}function Q(e){let{announcements:t,navigate:s}=e,[h,m]=(0,r.useState)([]),[g,v]=(0,r.useState)([]),[p,b]=(0,r.useState)(!1),[j,N]=(0,r.useState)(""),[w,k]=(0,r.useState)("none"),[C,M]=(0,r.useState)("name"),[E,A]=(0,r.useState)(!0),[L,R]=(0,r.useState)(new Set),[H,D]=(0,r.useState)(null),[I,Z]=(0,r.useState)(null),[z,B]=(0,r.useState)(!1);(0,r.useEffect)(()=>{A("false"!==localStorage.getItem("gatus:show-average-response-time"));try{let e=localStorage.getItem("gatus:uncollapsed-groups");e&&R(new Set(JSON.parse(e)))}catch(e){}},[]);let U=(0,r.useCallback)(async()=>{let e=0===h.length&&0===g.length;e&&b(!0);try{var t;let[e,s]=await Promise.allSettled([x(1,50),f(1,50)]);"fulfilled"===e.status&&m(e.value),"fulfilled"===s.status&&v(null!=(t=s.value)?t:[])}catch(e){console.error("[Dashboard] fetch error:",e)}finally{e&&b(!1)}},[]);(0,r.useEffect)(()=>{U()},[U]);let _=(0,r.useCallback)(()=>{m([]),v([]),U()},[U]),Y=(0,r.useMemo)(()=>{let e=[...h];if(j){let t=j.toLowerCase();e=e.filter(e=>e.name.toLowerCase().includes(t)||e.group&&e.group.toLowerCase().includes(t))}return"failing"===w?e=e.filter(e=>{var t;return!!(null==(t=e.results)?void 0:t.length)&&!e.results[e.results.length-1].success}):"unstable"===w&&(e=e.filter(e=>{var t;return!!(null==(t=e.results)?void 0:t.length)&&e.results.some(e=>!e.success)})),"health"===C&&e.sort((e,t)=>{var s,l;let r=null==(s=e.results)||!s.length||e.results[e.results.length-1].success,a=null==(l=t.results)||!l.length||t.results[t.results.length-1].success;return!r&&a?-1:r&&!a?1:e.name.localeCompare(t.name)}),e},[h,j,w,C]),O=(0,r.useMemo)(()=>{let e=[...g];if(j){let t=j.toLowerCase();e=e.filter(e=>e.name.toLowerCase().includes(t)||e.group&&e.group.toLowerCase().includes(t))}return"failing"===w?e=e.filter(e=>{var t;return!!(null==(t=e.results)?void 0:t.length)&&!e.results[e.results.length-1].success}):"unstable"===w&&(e=e.filter(e=>{var t;return!!(null==(t=e.results)?void 0:t.length)&&e.results.some(e=>!e.success)})),"health"===C&&e.sort((e,t)=>{var s,l;let r=null==(s=e.results)||!s.length||e.results[e.results.length-1].success,a=null==(l=t.results)||!l.length||t.results[t.results.length-1].success;return!r&&a?-1:r&&!a?1:e.name.localeCompare(t.name)}),e},[g,j,w,C]),K="group"===C,$=(0,r.useMemo)(()=>{if(!K)return null;let e={};for(let t of Y){let s=t.group||"No Group";e[s]||(e[s]={endpoints:[],suites:[]}),e[s].endpoints.push(t)}for(let t of O){let s=t.group||"No Group";e[s]||(e[s]={endpoints:[],suites:[]}),e[s].suites.push(t)}let t=Object.keys(e).sort((e,t)=>"No Group"===e?1:"No Group"===t?-1:e.localeCompare(t)),s=[];for(let l of t)s.push([l,e[l]]);return s},[K,Y,O]),J=(0,r.useMemo)(()=>(null!=t?t:[]).filter(e=>!e.archived),[t]),Q=(0,r.useMemo)(()=>(null!=t?t:[]).filter(e=>e.archived),[t]),ee=(0,r.useCallback)((e,t,s)=>{"click"===s?e?(D(e),Z(t),B(!0)):(D(null),Z(null),B(!1)):z||(D(e),Z(t))},[z]),et=(0,r.useCallback)(()=>{D(null),Z(null),B(!1),window.dispatchEvent(new CustomEvent("clear-data-point-selection"))},[]),es=(0,r.useCallback)(e=>{R(t=>{let s=new Set(t);return s.has(e)?s.delete(e):s.add(e),localStorage.setItem("gatus:uncollapsed-groups",JSON.stringify([...s])),s})},[]),el=e=>e.filter(e=>{var t;return(null==(t=e.results)?void 0:t.length)&&!e.results[e.results.length-1].success}).length,er=e=>e.filter(e=>{var t;return(null==(t=e.results)?void 0:t.length)&&!e.results[e.results.length-1].success}).length;return(0,l.jsxs)("div",{className:"relative min-h-screen",children:[(0,l.jsx)(y,{}),(0,l.jsx)("main",{className:"relative",children:(0,l.jsxs)("div",{className:"container mx-auto max-w-7xl px-4 py-8",children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsxs)("div",{className:"mb-4 flex items-center justify-end gap-2",children:[(0,l.jsx)("button",{onClick:()=>{A(e=>{let t=!e;return localStorage.setItem("gatus:show-average-response-time",t?"true":"false"),t})},title:E?"Show min-max response time":"Show average response time",className:"inline-flex h-8 w-8 items-center justify-center rounded-md hover:bg-[hsl(var(--accent))] transition-colors",children:E?(0,l.jsx)(a.A,{className:"h-5 w-5"}):(0,l.jsx)(n.A,{className:"h-5 w-5"})}),(0,l.jsx)("button",{onClick:_,title:"Refresh data",className:"inline-flex h-8 w-8 items-center justify-center rounded-md hover:bg-[hsl(var(--accent))] transition-colors",children:(0,l.jsx)(i.A,{className:"h-5 w-5"})})]}),(0,l.jsx)(X,{announcements:J}),(0,l.jsx)(F,{onSearch:N,onFilterChange:k,onSortChange:M})]}),p&&(0,l.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,l.jsx)(T,{size:"lg"})}),!p&&0===Y.length&&0===O.length&&(0,l.jsxs)("div",{className:"py-20 text-center",children:[(0,l.jsx)(o.A,{className:"mx-auto mb-4 h-12 w-12 text-[hsl(var(--muted-foreground))]"}),(0,l.jsx)("h3",{className:"mb-2 text-lg font-semibold",children:"No endpoints or suites found"}),(0,l.jsx)("p",{className:"text-[hsl(var(--muted-foreground))]",children:j||"none"!==w?"Try adjusting your filters":"No endpoints or suites are configured"})]}),!p&&(Y.length>0||O.length>0)&&(0,l.jsx)(l.Fragment,{children:K&&$?(0,l.jsx)("div",{className:"space-y-6",children:$.map(e=>{let[t,r]=e;return(0,l.jsxs)("div",{className:"overflow-hidden rounded-lg border border-[hsl(var(--border))]",children:[(0,l.jsxs)("button",{onClick:()=>es(t),className:"flex w-full items-center justify-between border-b border-[hsl(var(--border))] bg-[hsl(var(--card))] p-4 transition-colors hover:bg-[hsl(var(--accent)/.5)]",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[L.has(t)?(0,l.jsx)(c.A,{className:"h-5 w-5 text-[hsl(var(--muted-foreground))]"}):(0,l.jsx)(d.A,{className:"h-5 w-5 text-[hsl(var(--muted-foreground))]"}),(0,l.jsx)("h2",{className:"text-xl font-semibold",children:t})]}),(0,l.jsx)("div",{className:"flex items-center gap-2",children:el(r.endpoints)+er(r.suites)>0?(0,l.jsx)("span",{className:"rounded-full bg-red-600 px-2 py-1 text-sm font-medium text-white",children:el(r.endpoints)+er(r.suites)}):(0,l.jsx)(u.A,{className:"h-6 w-6 text-green-600"})})]}),L.has(t)&&(0,l.jsxs)("div",{className:"p-4",children:[r.suites.length>0&&(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("h3",{className:"mb-3 text-sm font-semibold uppercase tracking-wider text-[hsl(var(--muted-foreground))]",children:"Suites"}),(0,l.jsx)("div",{className:"grid gap-3 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:r.suites.map(e=>(0,l.jsx)(V,{suite:e,maxResults:50,onNavigate:e=>s("/suites/".concat(e)),onTooltip:ee},e.key))})]}),r.endpoints.length>0&&(0,l.jsxs)("div",{children:[r.suites.length>0&&(0,l.jsx)("h3",{className:"mb-3 text-sm font-semibold uppercase tracking-wider text-[hsl(var(--muted-foreground))]",children:"Endpoints"}),(0,l.jsx)("div",{className:"grid gap-3 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:r.endpoints.map(e=>(0,l.jsx)(P,{endpoint:e,maxResults:50,showAverageResponseTime:E,onNavigate:e=>s("/endpoints/".concat(e)),onTooltip:ee},e.key))})]})]})]},t)})}):(0,l.jsxs)("div",{children:[O.length>0&&(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("h2",{className:"mb-3 text-lg font-semibold",children:"Suites"}),(0,l.jsx)("div",{className:"grid gap-3 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:O.map(e=>(0,l.jsx)(V,{suite:e,maxResults:50,onNavigate:e=>s("/suites/".concat(e)),onTooltip:ee},e.key))})]}),Y.length>0&&(0,l.jsxs)("div",{children:[O.length>0&&(0,l.jsx)("h2",{className:"mb-3 text-lg font-semibold",children:"Endpoints"}),(0,l.jsx)("div",{className:"grid gap-3 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:Y.map(e=>(0,l.jsx)(P,{endpoint:e,maxResults:50,showAverageResponseTime:E,onNavigate:e=>s("/endpoints/".concat(e)),onTooltip:ee},e.key))})]})]})}),Q.length>0&&(0,l.jsx)("div",{className:"mt-12 pb-8",children:(0,l.jsx)(q,{announcements:Q})})]})}),(0,l.jsx)(S,{}),(0,l.jsx)(G,{onRefresh:U}),(0,l.jsx)(W,{result:H,anchor:I,persistent:z,onDismiss:et})]})}var ee=s(6204),et=s(1190),es=s(3263),el=s(7941),er=s(9156),ea=s(6126);function en(e){let{endpointKey:t,duration:s}=e,a=(0,r.useRef)(null),n=(0,r.useRef)(null),[i,o]=(0,r.useState)(!0),[c,d]=(0,r.useState)(null),[u,h]=(0,r.useState)([]),[m,x]=(0,r.useState)([]),[g,f]=(0,r.useState)(null),{resolvedTheme:p}=(0,Y.D)(),b=(0,r.useCallback)(async()=>{o(!0),d(null);try{var e,l;let r=await v(t,s);h(null!=(e=r.timestamps)?e:[]),x(null!=(l=r.values)?l:[])}catch(e){d("Failed to load chart data")}finally{o(!1)}},[t,s]);(0,r.useEffect)(()=>{b()},[b]),(0,r.useEffect)(()=>{let e=a.current,t=n.current;if(!e||!t||0===m.length)return;let l="dark"===p,r=window.devicePixelRatio||1,i=t.getBoundingClientRect().width;e.width=i*r,e.height=300*r,e.style.width="".concat(i,"px"),e.style.height="".concat(300,"px");let o=e.getContext("2d");if(!o)return;o.scale(r,r);let c=i-60-20;o.clearRect(0,0,i,300);let d=Math.max(...m,1);o.strokeStyle=l?"rgba(75, 85, 99, 0.3)":"rgba(229, 231, 235, 0.8)",o.lineWidth=1,o.font="11px var(--font-geist-mono, monospace)",o.fillStyle=l?"#9ca3af":"#6b7280",o.textAlign="right";for(let e=0;e<=5;e++){let t=20+48*e;o.beginPath(),o.moveTo(60,t),o.lineTo(i-20,t),o.stroke();let s="".concat(Math.round(d*(1-e/5)),"ms");o.fillText(s,52,t+4)}o.textAlign="center";let h=Math.min(6,u.length);for(let e=0;e<h;e++){let t=Math.round(e/(h-1)*(u.length-1)),l=60+t/(u.length-1)*c,r=new Date(u[t]),a="24h"===s?r.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"}):r.toLocaleDateString([],{month:"short",day:"numeric"});o.fillText(a,l,280)}let x=l?"rgb(96, 165, 250)":"rgb(59, 130, 246)";o.beginPath();for(let e=0;e<m.length;e++){let t=60+e/(m.length-1)*c,s=260-m[e]/d*240;0===e?o.moveTo(t,s):o.lineTo(t,s)}o.strokeStyle=x,o.lineWidth=2,o.stroke();let v=260;if(o.lineTo(60+c,v),o.lineTo(60,v),o.closePath(),o.fillStyle=l?"rgba(96, 165, 250, 0.1)":"rgba(59, 130, 246, 0.1)",o.fill(),null!==g&&g>=0&&g<m.length){let e=60+g/(m.length-1)*c,t=260-m[g]/d*240;o.strokeStyle=l?"rgba(255,255,255,0.3)":"rgba(0,0,0,0.2)",o.lineWidth=1,o.setLineDash([4,4]),o.beginPath(),o.moveTo(e,20),o.lineTo(e,260),o.stroke(),o.setLineDash([]),o.fillStyle=x,o.beginPath(),o.arc(e,t,4,0,2*Math.PI),o.fill();let s="".concat(m[g],"ms"),r=new Date(u[g]).toLocaleString();o.font="11px var(--font-geist-mono, monospace)";let a=Math.max(o.measureText(s).width,o.measureText(r).width)+16,n=e+10;n+a>i-20&&(n=e-a-10);let h=t-36-10;h<20&&(h=t+10),o.fillStyle=l?"rgba(31, 41, 55, 0.95)":"rgba(255, 255, 255, 0.95)",o.strokeStyle=l?"#4b5563":"#e5e7eb",o.lineWidth=1,o.beginPath(),o.roundRect(n,h,a,36,4),o.fill(),o.stroke(),o.fillStyle=l?"#f9fafb":"#111827",o.textAlign="left",o.fillText(s,n+8,h+14),o.fillStyle=l?"#9ca3af":"#6b7280",o.fillText(r,n+8,h+28)}},[m,u,p,g,s]);let j=(0,r.useCallback)(e=>{if(0===m.length)return;let t=a.current;if(!t)return;let s=t.getBoundingClientRect(),l=e.clientX-s.left,r=Math.round((l-60)/(s.width-60-20)*(m.length-1));r>=0&&r<m.length?f(r):f(null)},[m.length]);return i?(0,l.jsx)("div",{className:"flex h-[300px] items-center justify-center",children:(0,l.jsx)(T,{})}):c?(0,l.jsx)("div",{className:"flex h-[300px] items-center justify-center text-[hsl(var(--muted-foreground))]",children:c}):0===m.length?(0,l.jsx)("div",{className:"flex h-[300px] items-center justify-center text-[hsl(var(--muted-foreground))]",children:"No data available"}):(0,l.jsx)("div",{ref:n,className:"relative w-full",style:{height:300},children:(0,l.jsx)("canvas",{ref:a,onMouseMove:j,onMouseLeave:()=>f(null),className:"cursor-crosshair"})})}function ei(e){var t,s,o,c,d;let{endpointKey:u,navigate:h}=e,[m,x]=(0,r.useState)(null),[v,f]=(0,r.useState)(null),[p,b]=(0,r.useState)([]),[j,N]=(0,r.useState)(1),[w,k]=(0,r.useState)(!1),[C,M]=(0,r.useState)(!0),[E,R]=(0,r.useState)("24h"),[H,P]=(0,r.useState)(!1),[V,Z]=(0,r.useState)(null),[z,B]=(0,r.useState)(null),[F,U]=(0,r.useState)(!1);(0,r.useEffect)(()=>{M("false"!==localStorage.getItem("gatus:show-average-response-time"))},[]);let _=(0,r.useCallback)(async()=>{k(!0);try{var e,t;let s=await g(u,j,50);if(x(s),1===j&&f(s),null==(e=s.events)?void 0:e.length){let e=[];for(let t=s.events.length-1;t>=0;t--){let l=s.events[t],r="";if(t===s.events.length-1)r="UNHEALTHY"===l.type?"Endpoint is unhealthy":"HEALTHY"===l.type?"Endpoint is healthy":"Monitoring started";else if("HEALTHY"===l.type)r="Endpoint became healthy";else if("UNHEALTHY"===l.type){let e=s.events[t+1];r=e?"Endpoint was unhealthy for ".concat(function(e,t){let s=Math.floor((new Date(e).getTime()-new Date(t).getTime())/1e3),l=Math.floor(s/60),r=Math.floor(l/60);if(r>0){let e=l%60,t="".concat(r," hour").concat(1===r?"":"s");return e>0?"".concat(t," ").concat(e," minute").concat(1===e?"":"s"):t}if(l>0){let e=s%60,t="".concat(l," minute").concat(1===l?"":"s");return e>0?"".concat(t," ").concat(e," second").concat(1===e?"":"s"):t}return"".concat(s," second").concat(1===s?"":"s")}(e.timestamp,l.timestamp)):"Endpoint became unhealthy"}else r="Monitoring started";e.push({...l,fancyText:r,fancyTimeAgo:A(l.timestamp)})}b(e)}(null==(t=s.results)?void 0:t.some(e=>e.duration>0))&&P(!0)}catch(e){console.error("[EndpointDetail] fetch error:",e)}finally{k(!1)}},[u,j]);(0,r.useEffect)(()=>{_()},[_]);let Y=(null==v||null==(t=v.results)?void 0:t.length)?v.results[v.results.length-1]:null,O=Y?Y.success?"healthy":"unhealthy":"unknown",K=null!=(d=null==Y?void 0:Y.hostname)?d:null,$=(0,r.useMemo)(()=>{var e;if(!(null==m||null==(e=m.results)?void 0:e.length))return"N/A";let t=0,s=0;for(let e of m.results)e.duration&&(t+=e.duration,s++);return s>0?"".concat(Math.round(t/s/1e6),"ms"):"N/A"},[m]),J=(0,r.useMemo)(()=>{var e;if(!(null==m||null==(e=m.results)?void 0:e.length))return"N/A";let t=1/0,s=0,l=!1;for(let e of m.results)e.duration&&(t=Math.min(t,e.duration),s=Math.max(s,e.duration),l=!0);if(!l)return"N/A";let r=Math.trunc(t/1e6),a=Math.trunc(s/1e6);return r===a?"".concat(r,"ms"):"".concat(r,"-").concat(a,"ms")},[m]),X=(null==v||null==(s=v.results)?void 0:s.length)?A(v.results[v.results.length-1].timestamp):"Never",q=(0,r.useCallback)((e,t,s)=>{"click"===s?e?(Z(e),B(t),U(!0)):(Z(null),B(null),U(!1)):F||(Z(e),B(t))},[F]),Q=(0,r.useCallback)(()=>{Z(null),B(null),U(!1),window.dispatchEvent(new CustomEvent("clear-data-point-selection"))},[]),ei="/api/v1/endpoints/".concat(u,"/health/badge.svg");return(0,l.jsxs)("div",{className:"relative min-h-screen",children:[(0,l.jsx)(y,{}),(0,l.jsx)("main",{className:"relative",children:(0,l.jsxs)("div",{className:"container mx-auto max-w-7xl px-4 py-8",children:[(0,l.jsxs)("button",{onClick:()=>h("/"),className:"mb-4 inline-flex items-center gap-2 rounded-md px-3 py-2 text-sm transition-colors hover:bg-[hsl(var(--accent))]",children:[(0,l.jsx)(ee.A,{className:"h-4 w-4"}),"Back to Dashboard"]}),(null==m?void 0:m.name)?(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-4xl font-bold tracking-tight",children:m.name}),(0,l.jsxs)("div",{className:"mt-2 flex items-center gap-3 text-[hsl(var(--muted-foreground))]",children:[m.group&&(0,l.jsxs)("span",{children:["Group: ",m.group]}),m.group&&K&&(0,l.jsx)("span",{children:"•"}),K&&(0,l.jsx)("span",{children:K})]})]}),(0,l.jsx)(D,{status:O})]}),(0,l.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[{label:"Current Status",value:"healthy"===O?"Operational":"Issues Detected"},{label:"Avg Response Time",value:$},{label:"Response Time Range",value:J},{label:"Last Check",value:X}].map(e=>(0,l.jsxs)("div",{className:"rounded-lg border border-[hsl(var(--border))] bg-[hsl(var(--card))]",children:[(0,l.jsx)("div",{className:"px-6 pb-2 pt-6",children:(0,l.jsx)("p",{className:"text-sm font-medium text-[hsl(var(--muted-foreground))]",children:e.label})}),(0,l.jsx)("div",{className:"px-6 pb-6",children:(0,l.jsx)("div",{className:"text-2xl font-bold",children:e.value})})]},e.label))}),(0,l.jsxs)("div",{className:"rounded-lg border border-[hsl(var(--border))] bg-[hsl(var(--card))]",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between px-6 pt-6",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold",children:"Recent Checks"}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("button",{onClick:()=>{M(e=>{let t=!e;return localStorage.setItem("gatus:show-average-response-time",t?"true":"false"),t})},title:C?"Show min-max response time":"Show average response time",className:"inline-flex h-8 w-8 items-center justify-center rounded-md hover:bg-[hsl(var(--accent))] transition-colors",children:C?(0,l.jsx)(a.A,{className:"h-5 w-5"}):(0,l.jsx)(n.A,{className:"h-5 w-5"})}),(0,l.jsx)("button",{onClick:_,disabled:w,title:"Refresh data",className:"inline-flex h-8 w-8 items-center justify-center rounded-md hover:bg-[hsl(var(--accent))] transition-colors",children:(0,l.jsx)(i.A,{className:"h-4 w-4 ".concat(w?"animate-spin":"")})})]})]}),(0,l.jsxs)("div",{className:"p-6",children:[(null==(o=m.results)?void 0:o.length)>0&&(0,l.jsx)(I,{results:m.results,maxResults:50,onTooltip:q}),(0,l.jsxs)("div",{className:"mt-4 flex items-center justify-center gap-2 border-t border-[hsl(var(--border))] pt-4",children:[(0,l.jsx)("button",{disabled:j<=1,onClick:()=>N(e=>Math.max(1,e-1)),className:"inline-flex h-8 w-8 items-center justify-center rounded-md border border-[hsl(var(--border))] disabled:opacity-50 hover:bg-[hsl(var(--accent))]",children:(0,l.jsx)(et.A,{className:"h-4 w-4"})}),(0,l.jsxs)("span",{className:"text-sm text-[hsl(var(--muted-foreground))]",children:["Page ",j]}),(0,l.jsx)("button",{disabled:!(null==(c=m.results)?void 0:c.length)||m.results.length<50,onClick:()=>N(e=>e+1),className:"inline-flex h-8 w-8 items-center justify-center rounded-md border border-[hsl(var(--border))] disabled:opacity-50 hover:bg-[hsl(var(--accent))]",children:(0,l.jsx)(es.A,{className:"h-4 w-4"})})]})]})]}),H&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"rounded-lg border border-[hsl(var(--border))] bg-[hsl(var(--card))]",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between px-6 pt-6",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold",children:"Response Time Trend"}),(0,l.jsxs)("select",{value:E,onChange:e=>R(e.target.value),className:"rounded-md border border-[hsl(var(--border))] bg-[hsl(var(--background))] px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-[hsl(var(--ring))]",children:[(0,l.jsx)("option",{value:"24h",children:"24 hours"}),(0,l.jsx)("option",{value:"7d",children:"7 days"}),(0,l.jsx)("option",{value:"30d",children:"30 days"})]})]}),(0,l.jsx)("div",{className:"p-6",children:(0,l.jsx)(en,{endpointKey:u,duration:E})})]}),(0,l.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:["30d","7d","24h","1h"].map(e=>(0,l.jsxs)("div",{className:"rounded-lg border border-[hsl(var(--border))] bg-[hsl(var(--card))]",children:[(0,l.jsx)("div",{className:"px-6 pb-2 pt-6 text-center",children:(0,l.jsx)("p",{className:"text-sm font-medium text-[hsl(var(--muted-foreground))]",children:"30d"===e?"Last 30 days":"7d"===e?"Last 7 days":"24h"===e?"Last 24 hours":"Last hour"})}),(0,l.jsx)("div",{className:"px-6 pb-6 text-center",children:(0,l.jsx)("img",{src:"/api/v1/endpoints/".concat(u,"/response-times/").concat(e,"/badge.svg"),alt:"".concat(e," response time"),className:"mx-auto mt-2"})})]},e))})]}),(0,l.jsxs)("div",{className:"rounded-lg border border-[hsl(var(--border))] bg-[hsl(var(--card))]",children:[(0,l.jsx)("div",{className:"px-6 pt-6",children:(0,l.jsx)("h2",{className:"text-lg font-semibold",children:"Uptime Statistics"})}),(0,l.jsx)("div",{className:"p-6",children:(0,l.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:["30d","7d","24h","1h"].map(e=>(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("p",{className:"mb-2 text-sm text-[hsl(var(--muted-foreground))]",children:"30d"===e?"Last 30 days":"7d"===e?"Last 7 days":"24h"===e?"Last 24 hours":"Last hour"}),(0,l.jsx)("img",{src:"/api/v1/endpoints/".concat(u,"/uptimes/").concat(e,"/badge.svg"),alt:"".concat(e," uptime"),className:"mx-auto"})]},e))})})]}),(0,l.jsxs)("div",{className:"rounded-lg border border-[hsl(var(--border))] bg-[hsl(var(--card))]",children:[(0,l.jsx)("div",{className:"px-6 pt-6",children:(0,l.jsx)("h2",{className:"text-lg font-semibold",children:"Current Health"})}),(0,l.jsx)("div",{className:"p-6 text-center",children:(0,l.jsx)("img",{src:ei,alt:"health badge",className:"mx-auto"})})]}),p.length>0&&(0,l.jsxs)("div",{className:"rounded-lg border border-[hsl(var(--border))] bg-[hsl(var(--card))]",children:[(0,l.jsx)("div",{className:"px-6 pt-6",children:(0,l.jsx)("h2",{className:"text-lg font-semibold",children:"Events"})}),(0,l.jsx)("div",{className:"p-6 space-y-4",children:p.map((e,t)=>(0,l.jsxs)("div",{className:"flex items-start gap-4 border-b border-[hsl(var(--border))] pb-4 last:border-0",children:[(0,l.jsx)("div",{className:"mt-1",children:"HEALTHY"===e.type?(0,l.jsx)(el.A,{className:"h-5 w-5 text-green-500"}):"UNHEALTHY"===e.type?(0,l.jsx)(er.A,{className:"h-5 w-5 text-red-500"}):(0,l.jsx)(ea.A,{className:"h-5 w-5 text-[hsl(var(--muted-foreground))]"})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("p",{className:"font-medium",children:e.fancyText}),(0,l.jsxs)("p",{className:"text-sm text-[hsl(var(--muted-foreground))]",children:[L(e.timestamp)," ","•"," ",e.fancyTimeAgo]})]})]},t))})]})]}):(0,l.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,l.jsx)(T,{size:"lg"})})]})}),(0,l.jsx)(S,{}),(0,l.jsx)(G,{onRefresh:_}),(0,l.jsx)(W,{result:V,anchor:z,persistent:F,onDismiss:Q})]})}function eo(e){var t,s,a;let{suiteKey:n,navigate:o}=e,[c,d]=(0,r.useState)(null),[u,h]=(0,r.useState)(1),[m,x]=(0,r.useState)(!1),[g,v]=(0,r.useState)(null),[f,b]=(0,r.useState)(null),[j,N]=(0,r.useState)(!1),w=(0,r.useCallback)(async()=>{x(!0);try{let e=await p(n,u,50);d(e)}catch(e){console.error("[SuiteDetail] fetch error:",e)}finally{x(!1)}},[n,u]);(0,r.useEffect)(()=>{w()},[w]);let k=(null==c||null==(t=c.results)?void 0:t.length)?c.results[c.results.length-1]:null,C=k?k.success?"healthy":"unhealthy":"unknown",M=(null!=(a=null==c?void 0:c.results)?a:[]).map(e=>({status:0,hostname:"",duration:e.duration,success:e.success,timestamp:e.timestamp})),E=(0,r.useCallback)((e,t,s)=>{"click"===s?e?(v(e),b(t),N(!0)):(v(null),b(null),N(!1)):j||(v(e),b(t))},[j]),L=(0,r.useCallback)(()=>{v(null),b(null),N(!1),window.dispatchEvent(new CustomEvent("clear-data-point-selection"))},[]),R=k?A(k.timestamp):"Never";return(0,l.jsxs)("div",{className:"relative min-h-screen",children:[(0,l.jsx)(y,{}),(0,l.jsx)("main",{className:"relative",children:(0,l.jsxs)("div",{className:"container mx-auto max-w-7xl px-4 py-8",children:[(0,l.jsxs)("button",{onClick:()=>o("/"),className:"mb-4 inline-flex items-center gap-2 rounded-md px-3 py-2 text-sm transition-colors hover:bg-[hsl(var(--accent))]",children:[(0,l.jsx)(ee.A,{className:"h-4 w-4"}),"Back to Dashboard"]}),(null==c?void 0:c.name)?(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-4xl font-bold tracking-tight",children:c.name}),c.group&&(0,l.jsxs)("div",{className:"mt-2 text-[hsl(var(--muted-foreground))]",children:["Group: ",c.group]})]}),(0,l.jsx)(D,{status:C})]}),(0,l.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,l.jsxs)("div",{className:"rounded-lg border border-[hsl(var(--border))] bg-[hsl(var(--card))]",children:[(0,l.jsx)("div",{className:"px-6 pb-2 pt-6",children:(0,l.jsx)("p",{className:"text-sm font-medium text-[hsl(var(--muted-foreground))]",children:"Current Status"})}),(0,l.jsx)("div",{className:"px-6 pb-6",children:(0,l.jsx)("div",{className:"text-2xl font-bold",children:"healthy"===C?"All Passing":"Failures Detected"})})]}),(0,l.jsxs)("div",{className:"rounded-lg border border-[hsl(var(--border))] bg-[hsl(var(--card))]",children:[(0,l.jsx)("div",{className:"px-6 pb-2 pt-6",children:(0,l.jsx)("p",{className:"text-sm font-medium text-[hsl(var(--muted-foreground))]",children:"Last Check"})}),(0,l.jsx)("div",{className:"px-6 pb-6",children:(0,l.jsx)("div",{className:"text-2xl font-bold",children:R})})]})]}),(0,l.jsxs)("div",{className:"rounded-lg border border-[hsl(var(--border))] bg-[hsl(var(--card))]",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between px-6 pt-6",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold",children:"Recent Checks"}),(0,l.jsx)("button",{onClick:w,disabled:m,title:"Refresh data",className:"inline-flex h-8 w-8 items-center justify-center rounded-md hover:bg-[hsl(var(--accent))] transition-colors",children:(0,l.jsx)(i.A,{className:"h-4 w-4 ".concat(m?"animate-spin":"")})})]}),(0,l.jsxs)("div",{className:"p-6",children:[M.length>0&&(0,l.jsx)(I,{results:M,maxResults:50,onTooltip:E}),(0,l.jsxs)("div",{className:"mt-4 flex items-center justify-center gap-2 border-t border-[hsl(var(--border))] pt-4",children:[(0,l.jsx)("button",{disabled:u<=1,onClick:()=>h(e=>Math.max(1,e-1)),className:"inline-flex h-8 w-8 items-center justify-center rounded-md border border-[hsl(var(--border))] disabled:opacity-50 hover:bg-[hsl(var(--accent))]",children:(0,l.jsx)(et.A,{className:"h-4 w-4"})}),(0,l.jsxs)("span",{className:"text-sm text-[hsl(var(--muted-foreground))]",children:["Page ",u]}),(0,l.jsx)("button",{disabled:!(null==(s=c.results)?void 0:s.length)||c.results.length<50,onClick:()=>h(e=>e+1),className:"inline-flex h-8 w-8 items-center justify-center rounded-md border border-[hsl(var(--border))] disabled:opacity-50 hover:bg-[hsl(var(--accent))]",children:(0,l.jsx)(es.A,{className:"h-4 w-4"})})]})]})]}),(0,l.jsxs)("div",{className:"rounded-lg border border-[hsl(var(--border))] bg-[hsl(var(--card))]",children:[(0,l.jsx)("div",{className:"px-6 pt-6",children:(0,l.jsx)("h2",{className:"text-lg font-semibold",children:"Current Health"})}),(0,l.jsx)("div",{className:"p-6 text-center",children:(0,l.jsx)("img",{src:"/api/v1/endpoints/".concat(n,"/health/badge.svg"),alt:"health badge",className:"mx-auto"})})]})]}):(0,l.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,l.jsx)(T,{size:"lg"})})]})}),(0,l.jsx)(S,{}),(0,l.jsx)(G,{onRefresh:w}),(0,l.jsx)(W,{result:g,anchor:f,persistent:j,onDismiss:L})]})}var ec=s(5283);function ed(){var e,t;let[s,a]=(0,r.useState)(null),[n,i]=(0,r.useState)(!1),[o,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)({view:"dashboard"});(0,r.useEffect)(()=>{let e=()=>{let e=window.location.pathname,t=e.match(/^\/endpoints\/(.+)$/);if(t)return void u({view:"endpoint",key:t[1]});let s=e.match(/^\/suites\/(.+)$/);if(s)return void u({view:"suite",key:s[1]});u({view:"dashboard"})};return e(),window.addEventListener("popstate",e),()=>window.removeEventListener("popstate",e)},[]),(0,r.useEffect)(()=>{m().then(e=>{a(e),i(!0)}).catch(()=>i(!0));let e=setInterval(()=>{m().then(a).catch(()=>{})},6e5);return()=>clearInterval(e)},[]);let h=e=>{window.history.pushState({},"",e),window.dispatchEvent(new PopStateEvent("popstate"))};if(!n)return(0,l.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-[hsl(var(--background))] text-[hsl(var(--foreground))]",children:(0,l.jsx)(T,{size:"lg"})});if((null==s?void 0:s.oidc)&&!s.authenticated)return(0,l.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-[hsl(var(--background))] p-4 text-[hsl(var(--foreground))]",children:(0,l.jsxs)("div",{className:"w-full max-w-md rounded-lg border border-[hsl(var(--border))] bg-[hsl(var(--card))]",children:[(0,l.jsxs)("div",{className:"p-6 text-center",children:[(0,l.jsxs)("svg",{viewBox:"0 0 67 67",className:"mx-auto mb-4 h-20 w-20 dark:invert",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("path",{d:"M22.21 67V44.6369H0V67H22.21Z",fill:"#000"}),(0,l.jsx)("path",{d:"M0 44.6369L22.21 46.8285V44.6369H0Z",fill:"#999"}),(0,l.jsx)("path",{d:"M66.7038 22.3184H22.2534L0.0878906 44.6367H44.4634L66.7038 22.3184Z",fill:"#000"}),(0,l.jsx)("path",{d:"M22.21 0H0V22.3184H22.21V0Z",fill:"#000"}),(0,l.jsx)("path",{d:"M66.7198 0H44.5098V22.3184H66.7198V0Z",fill:"#000"}),(0,l.jsx)("path",{d:"M66.6753 22.3185L44.5098 20.0822V22.3185H66.6753Z",fill:"#999"}),(0,l.jsx)("path",{d:"M66.7198 67V44.6369H44.5098V67H66.7198Z",fill:"#000"})]}),(0,l.jsx)("h2",{className:"text-3xl font-bold",children:"Status"}),(0,l.jsx)("p",{className:"mt-2 text-[hsl(var(--muted-foreground))]",children:"Sign in to continue"})]}),(0,l.jsxs)("div",{className:"px-6 pb-6",children:[new URLSearchParams(window.location.search).get("error")&&(0,l.jsx)("div",{className:"mb-6 rounded-md border border-red-500/20 bg-red-500/10 p-3",children:(0,l.jsx)("p",{className:"text-center text-sm text-red-600 dark:text-red-400",children:"access_denied"===new URLSearchParams(window.location.search).get("error")?"You do not have access to this status page":new URLSearchParams(window.location.search).get("error")})}),(0,l.jsx)("a",{href:"/oidc/login",onClick:()=>c(!0),className:"flex h-11 w-full items-center justify-center gap-2 rounded-md bg-[hsl(var(--primary))] px-8 text-sm font-medium text-[hsl(var(--primary-foreground))] transition-colors hover:bg-[hsl(var(--primary)/.9)]",children:o?(0,l.jsx)(T,{size:"xs"}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ec.A,{className:"h-4 w-4"}),"Login with OIDC"]})})]})]})});switch(d.view){case"endpoint":return(0,l.jsx)(ei,{endpointKey:d.key,announcements:null!=(e=null==s?void 0:s.announcements)?e:[],navigate:h});case"suite":return(0,l.jsx)(eo,{suiteKey:d.key,navigate:h});default:return(0,l.jsx)(Q,{announcements:null!=(t=null==s?void 0:s.announcements)?t:[],navigate:h})}}},3354:(e,t,s)=>{Promise.resolve().then(s.bind(s,1318))}},e=>{e.O(0,[640,441,255,358],()=>e(e.s=3354)),_N_E=e.O()}]);